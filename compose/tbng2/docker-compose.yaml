version: '3.8'

services:
## Comment if not used
  tbng-tpws:
    extends: 
      file: tbng-tpws.yaml
      service: tbng-tpws
###  override env here  -- values from section "environment" of tbng-tpws.yaml
#   environment:
###
  tbng-tor:
    extends:
      file: tbng-tor.yaml
      service: tbng-tor

  tbng-privoxy:
    extends:
      file: tbng-privoxy.yaml
      service: tbng-privoxy
    depends_on:
      tbng-tor:
        condition: service_healthy

## Comment i2p service if not used.
  tbng-i2p:
    extends:
      file: tbng-i2p.yaml
      service: tbng-i2p

  tbng-ap:
    extends:
      file: tbng-ap.yaml
      service: tbng-ap
###  override env here  -- values from section "environment" of tbng-ap.yaml
#   environment:

include:
  - volumes.yaml

